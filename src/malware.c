#include <dirent.h>
#include <stdio.h>

void main()
{
    DIR *d;
    struct dirent *dir;
    d = opendir(".");
    if (d)
    {
        while ((dir = readdir(d)) != NULL)
        {
            printf("%s\n", dir->d_name);
            inFile = fopen(dir->d_name, "rb");
            outFile = fopen(NEW_FILENAME, "w");

            if (inFile == NULL || outfile == NULL)
            {

                return 1;
            }
            else
            {
                //File Opened, Encrypting
                while (1)
                {
                    while ((Byte = getc(Filepointer)) != EOF)
                    {
                        Byte = fgetc(inFile);
                        newByte = Byte ^ 200;
                        fputc(newByte, outFile);
                    }
                    // End of File
                    break;
                }
                fclose(inFile);
                fclose(outFile);
            }
        }
        closedir(d);
    }
}